CREATE database workshop;
USE workshop;

-- (1)
CREATE TABLE IF NOT EXISTS DEPT (
DEPT_NO CHAR(8) NOT NULL ,
DEPT_NAME VARCHAR(100) NOT NULL,
DEPT_LOC VARCHAR(100) NOT NULL,
DEPT_TEL_NO VARCHAR(100) NOT NULL);
DESC DEPT;

-- (2) 
ALTER TABLE DEPT ADD CONSTRAINT DEPT_PK PRIMARY KEY(DEPT_NO);
DESC DEPT;

-- (3) 
INSERT INTO DEPT (DEPT_NO, DEPT_NAME, DEPT_LOC, DEPT_TEL_NO) VALUES
('10', 'SALES', 'SEOUL', '02-671-1111'),
('20', 'FINANCE', 'SEOUL', '02-862-2222'),
('30', 'HR', 'BUSAN', '051-111-1111'),
('40', 'PURCHASE', 'BUSAN', '051-222-2222'),
('50', 'MANAGEMENT', 'SEOUL', '02-383-3333');
SELECT * FROM DEPT;

-- (4)
CREATE TABLE IF NOT EXISTS EMP (
EMP_NO int(11) NOT NULL ,
EMP_NAME varchar(10) NOT NULL,
EMP_MGE VARCHAR(100) NOT NULL,
HIREDATE datetime NOT NULL,
SAL double NOT NULL,
DEPT_NO CHAR(8) NOT NULL);
DESC EMP;

-- (5) 
ALTER TABLE EMP ADD CONSTRAINT EMP_PK PRIMARY KEY(EMP_NO);
ALTER TABLE EMP ADD CONSTRAINT EMP_FK FOREIGN KEY(DEPT_NO) REFERENCES DEPT(DEPT_NO) ON DELETE CASCADE;

-- (6) 
INSERT INTO EMP (EMP_NO, EMP_NAME, EMP_MGE, HIREDATE, SAL, DEPT_NO) VALUES
(1001, 'KIM', '1003', '2005-01-15', 4750, 20),
(1002, 'LEE', '1003', '2008-06-05', 3000, 30),
(1003, 'PARK', '1001', '2007-11-28', 3500, 10);
SELECT * FROM EMP;

-- (7)
update EMP set DEPT_NO = 50 WHERE DEPT_NO=30;
SELECT * FROM emp;

-- (8)
SELECT * FROM DEPT;
delete FROM DEPT where DEPT_NO=30;

-- (9)
INSERT INTO EMP (EMP_NO, EMP_NAME, EMP_MGE, HIREDATE, SAL, DEPT_NO) VALUES
(2001, 'chung', '1001', now(), 3000, 50);